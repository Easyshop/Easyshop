<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="EasyShop">
    <body>


        <metal:main fill-slot="main"
                    tal:define="format_info view/getFormatInfo">        
        
            <!-- ToDo: Factor this out to a macro, as this is exactly the same as in 
                 checkout-thanks.pt
            -->

            <tal:block tal:repeat="selector view/getSelectors">                   
            
                <table class="products">
                    <tr tal:condition="selector/show_title">
                        <td class="main-title"
                            tal:attributes="colspan selector/products_per_line">
                            <a href="#"
                               tal:omit-tag="not:view/showEditLink"
                               tal:attributes="href selector/edit_url"
                               tal:content="selector/title">
                               Title
                            </a> 
                        </td>
                    </tr>                       
                    <tr tal:repeat="line selector/lines">
                        <td tal:attributes="width selector/td_width;
                                            class product/class"
                            tal:repeat="product line">
                            <div class="sub-title">
                                <a href="#"
                                   title="#"
                                   tal:content="product/short_title"
                                   tal:attributes="href product/url;
                                                    title product/title">
                                   Product Name
                                </a>
                            </div>
                            <table class="product-content">
                                <tr>
                                    <td class="product-image"
                                        tal:attributes="height format_info/product_height">
                                        <a href="#"
                                           tal:attributes="href product/url;
                                                           title product/title;
                                                           alt product/title">
                                            <img tal:attributes="src product/image" />
                                        </a>
                                    </td>
                                    <td class="product-text"
                                        tal:content="structure product/text">
                                        Text
                                    </td>
                                </tr>
                                <tr>
                                    <td class="product-control"
                                        colspan="2">

                                        <input type="button"
                                               class="context"
                                               id="product-details"
                                               value="Details"
                                               title="Details"
                                               i18n:attributes="title details_label;"
                                               tal:attributes="tabindex tabindex/next;
                                                               onclick string:location.href='${product/url}'" />
                                       
                                        <form action="#"                                  
                                              tal:attributes="action product/url"
                                              method="post">

                                           <input type="hidden"
                                                  name="quantity"
                                                  value="1" />

                                            <input tal:condition="product/showSelectPropertiesView"
                                                   class="context"
                                                   name="select-properties-view:method" 
                                                   value="Buy product"
                                                   title="Buy product"                                                    
                                                   type="submit"
                                                   i18n:attributes="title buy_product_label;
                                                                    value buy_product_label;"
                                                   tal:attributes="tabindex tabindex/next;" />                                            

                                            <input tal:condition="not:product/showSelectPropertiesView"
                                                   class="context"
                                                   id="add-product"
                                                   name="addToCart:method" 
                                                   value="Add to Cart"
                                                   title="Add to Cart"                                                   
                                                   type="submit"
                                                   i18n:attributes="title add_to_cart_label;
                                                                    value add_to_cart_label;"
                                                   tal:attributes="tabindex tabindex/next;" />
                                        </form>
                           
                                        <span class="product-price"
                                              tal:content="product/price">
                                            42.00
                                        </span>
                                        
                                    </td>
                                </tr>
                            </table>                            
                        </td>    
                    </tr>                        
                </table>    
            </tal:block>

        </metal:main>    
        
  </body>
</html>