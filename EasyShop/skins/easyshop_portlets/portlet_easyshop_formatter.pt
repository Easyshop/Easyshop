<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      i18n:domain="EasyShop">
<body>
<div metal:define-macro="portlet"
     tal:define="view context/@@portletFormatter;"                 
     tal:condition="view/showPortlet">

    <dl class="portlet" 
        id="portlet-easyshop-formatter"
        tal:define="format_infos view/getFormatInfos">
                    
        <dt class="portletHeader"
            i18n:translate="formatter_label">
            EasyShop Formatter
        </dt>

        <dd class="portletItem">
            <form action="."
                  method="post"
                  tal:attributes="action context/absolute_url">

                <div  tal:condition="python: template.id == 'check-out-thanks'"> 
                    <input type="hidden"
                           name="lines_per_page"
                           value="42"
                           tal:attributes="value format_infos/lines_per_page" />
                           
                    <label i18n:translate="selected_products_label">
                        Selected Products:
                    </label>       
                    <!-- <span tal:content="view/getNumberOfSelectedProducts">
                        42
                    </span> -->
                </div>       
                         
                <div tal:condition="python: template.id != 'check-out-thanks'" 
                    class="field">
                    <label i18n:translate="lines_per_page_label">
                        Lines Per Page
                    </label>                      
                    <input name="lines_per_page"
                           type="text"                 
                           size="2" 
                           value="42" 
                           tal:attributes="value format_infos/lines_per_page" />
                </div>                
                           
                <div class="field">                     
                    <label i18n:translate="products_per_line_label">
                        Products Per Line
                    </label>                      
                    <input name="products_per_line"
                           type="text"                
                           value="42"                      
                           size="2"
                           tal:attributes="value format_infos/products_per_line" />

                </div>

                <div class="field">
                    <label i18n:translate="image_size_label">
                        Image Size
                    </label>                      
                    
                    <select name="image_size">
                        <option tal:repeat="size view/getImageSizes"
                                tal:content="size/title"
                                tal:attributes="selected size/selected">
                            mini
                        </option>
                    </select>
                </div>

                <div class="field">
                    <label i18n:translate="product_height_label">
                        Product Height
                    </label>                      

                    <input name="product_height"
                           type="text"                
                           value="42"
                           size="4"
                           tal:attributes="value format_infos/product_height" />

                </div>

                <div class="field">
                    <label i18n:translate="text_label">
                        Text
                    </label>                      
                    
                    <select name="text">
                        <option i18n:translate=""
                                tal:repeat="text view/getTexts"
                                tal:content="text/title"
                                tal:attributes="selected text/selected;
                                                value text/id">
                            Short Text
                        </option>
                    </select>
                </div>
                    
                <div class="button">
                    <input id="save-formatter"
                           class="context"
                           name="save-formatter:method"
                           value="Save"
                           type="submit"
                           i18n:attributes="value save_label;" />
                </div>                                  
            </form>            
        </dd>        
    </dl>

</div>
</body>
</html>
