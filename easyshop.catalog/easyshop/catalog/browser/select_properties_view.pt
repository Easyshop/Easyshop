<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="EasyShop">

    <head> 
        <metal:block fill-slot="top_slot">
            <span tal:define="dummy context/@@disable-border" />
        </metal:block>
    </head>  
    
    <body>
        <div metal:fill-slot="main">

            <a tal:condition="python:checkPermission('Manage portal', context)"
               href="#"
               class="link-parent"
               tal:attributes="href string:${context/aq_parent/absolute_url}/folder_contents"
               i18n:translate="products_overview_label">
                Products Overview
            </a>  

            <div id="product-view">

                <form action="#"
                      tal:define="product view/getProduct"                                  
                      tal:attributes="action product/url"
                      method="post">

                              
                    <table class="products">
                       
                        <tr>
                            <td class="main-title"  
                                colspan="2"> 
                                <table class="shop-default"
                                       tal:define="navigationMacroView context/@@navigationMacroView;
                                                   product_urls navigationMacroView/getProductURLs;">
     
                                    <tr>
                                        <td tal:content="context/Title">
                                            Deep Thought    
                                        </td>
                                        <td class="product-navigation">
                                            <div tal:repeat="product_url product_urls">
                                                <a href="#"
                                                   title="First Product"
                                                   tal:omit-tag="not: product_url/first"
                                                   tal:attributes="href product_url/first">

                                                    <img src="navigation_first.gif" 
                                                         alt="Navigation First"
                                                         title="First"
                                                         tal:attributes="src string:$portal_url/navigation_first_small.gif"
                                                         i18n:attributes="title first_label;" />
                                                 </a>                    

                                                 <a href="#"
                                                    title="First Product"
                                                    tal:omit-tag="not: product_url/previous"
                                                    tal:attributes="href product_url/previous">

                                                    <img src="navigation_previous.gif" 
                                                         alt="Navigation Previous"
                                                         title="Previous"
                                                         tal:attributes="src string:$portal_url/navigation_previous_small.gif"
                                                         i18n:attributes="title previous_label;" />
                                                 </a>
        
                                                 <span tal:content="product_url/position">1</span>
                                                 /
                                                 <span tal:content="product_url/amount">42</span>                    

                                                 <a href="#"
                                                    title="Next Product"
                                                    tal:omit-tag="not: product_url/next"
                                                    tal:attributes="href product_url/next">

                                                    <img src="navigation_next.gif" 
                                                         alt="Navigation Next"
                                                         Title="Next"
                                                         tal:attributes="src string:$portal_url/navigation_next_small.gif"
                                                         i18n:attributes="title next_label;" />
                                                 </a>
        
                                                 <a href="#"
                                                    title="Last Product"
                                                    tal:omit-tag="not: product_url/last"
                                                    tal:attributes="href product_url/last">

                                                    <img src="navigation_last.gif" 
                                                         alt="Navigation Last"
                                                         Title="Last"
                                                         tal:attributes="src string:$portal_url/navigation_last_small.gif"
                                                         i18n:attributes="title last_label;" />
                                                 </a>        
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>                                    
                        <tr>
                            <td>
                                <table class="product-content"
                                       tal:define="zoom_url string:${context/absolute_url}/product-zoom-view;">
                                    <tr>
                                        <td class="sub-title"
                                            colspan="2"
                                            tal:content="context/Description">
                                            Our Products Are The Best
                                        </td> 
                                    </tr>
                                    <tr>
                                        <td class="product-image">
                                            <img tal:condition="product/image"
                                                 tal:attributes="src product/image;
                                                                 onclick string:easyShopZoomWindow('$zoom_url', '935', '805')" />
                                        </td>
                                        <td class="product-description">
                                            <h1 style="margin-top:8px"
                                                class="documentFirstHeading"
                                                i18n:translate="properties_selection_label">
                                                Properties Selection
                                            </h1>

                                            <div style="margin: 0 10px 0 0"
                                                 i18n:translate="properties_selection_description">
                                                Please select the various properties of the product.
                                            </div>    

                                            <div style="margin:10px 0;font-weight:bold">
                                              <span i18n:translate="base_price_label">
                                                    Base Price:
                                              </span>
                                              <span tal:content="view/getBasePrice" />
                                            </div>

                                            <div tal:repeat="property view/getProperties">

                                                <div style="margin:10px 0 0 0"                                                       
                                                     class="easyhop_property_title"
                                                     tal:content="property/title">
                                                         Title
                                                </div>
                    
                                                <select class="easyhop_property"  
                                                        tal:attributes="name string:property-${property/id}">
                      
                                                  <option value="please_select"
                                                          i18n:translate="please_select_label">
                                                        Please Select
                                                  </option>
                                                  
                                                  <option tal:repeat="option property/options"
                                                          tal:content="option/content"
                                                          tal:attributes="value option/value;
                                                                          selected option/selected">
                                                      Red
                                                  </option>  
                        
                                                </select>
              
                                            </div>     

                                            <input style="margin:20px 0"
                                                   class="context"
                                                   id="update-price"
                                                   name="select-properties-view:method"
                                                   value="Update Price" 
                                                   type="submit"
                                                   i18n:attributes="value update_price_label;"
                                                   tal:attributes="tabindex tabindex/next;" />

                                            <div style="font-weight:bold">
                                                <span i18n:translate="your_price_label">
                                                    Your Price:
                                                </span>
                                                <span tal:content="view/getCurrentPrice" />

                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="product-control"
                                            colspan="2">

                                            <input type="button"
                                                   class="context"
                                                   id="product-details"
                                                   value="Zoom"
                                                   title="Zoom"
                                                   i18n:attributes="title zoom_label;"
                                                   tal:attributes="tabindex tabindex/next;
                                                                   onclick string:easyShopZoomWindow('$zoom_url', '935', '805')" />
                               
                                            <input type="hidden"
                                                   name="quantity"
                                                   value="1" />

                                            <input class="context"
                                                   id="add-product"
                                                   name="addToCart:method" 
                                                   value="Add to Cart"
                                                   type="submit"
                                                   title="Add to Cart"
                                                   i18n:attributes="title add_to_cart_label;
                                                                    value add_to_cart_label;"
                                                   tal:attributes="tabindex tabindex/next;" />

                                            <span class="product-price"
                                                  tal:content="product/price">
                                                42.00
                                            </span>
                                        </td>
                                    </tr>
                                </table>                                                                                
                            </td>                                              
                        </tr>
                    </table>
                </form>            
            </div>
        </div>    
    </body>
</html>
